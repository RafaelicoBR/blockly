#summary Injecting Fixed-sized Blockly.
#labels Phase-Deploy

*[Installation Installation]: Injecting Fixed-sized Blockly*

= Introduction =

The simplest way to put Blockly into a webpage is to inject it into an empty 'div' tag.  There are two major limitations of this approach:

 * One can't have more than one instance of Blockly on the same page.
 * Blockly cannot easily reflow as the window resizes.

Both of these issues may be solved by [InjectingResizable injecting Blockly into an iframe].

== Injection ==

If neither of the above limitations are a concern, include the core Blockly script.  Note that the path may vary, depending on where your page is in relation to Blockly:

{{{
  <script type="text/javascript" src="blockly_compressed.js"></script>
}}}

Then include the messages for the user's language (in this case English):

{{{
  <script type="text/javascript" src="language/en/_messages.js"></script>
}}}

Then include the block categories you want.  There are many to choose from (see the `language/common` directory for a list), here are four to start with:

{{{
  <script type="text/javascript" src="language/common/control.js"></script>
  <script type="text/javascript" src="language/common/logic.js"></script>
  <script type="text/javascript" src="language/common/math.js"></script>
  <script type="text/javascript" src="language/common/text.js"></script>
}}}

Add an empty div to the page and set its size:

{{{
  <div id="blocklyDiv" style="height: 480px; width: 600px; border: 1px solid #ccc;"></div>
}}}

Add the structure of the toolbox (see [Toolbox Defining the Toolbox] for more information):

{{{
  <xml id="toolbox" style="display: none">
    <category name="Control">
      <block type="controls_if"></block>
      <block type="controls_repeat"></block>
      <block type="controls_whileUntil"></block>
    </category>
    <category name="Logic">
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
    </category>
    <category name="Math">
      <block type="math_number"></block>
      <block type="math_arithmetic"></block>
      <block type="math_single"></block>
    </category>
    <category name="Text">
      <block type="text"></block>
      <block type="text_length"></block>
      <block type="text_print"></block>
    </category>
  </xml>
}}}

Finally, call the following to inject Blockly into an empty div.  Set 'path' to be the relative path from your web page to Blockly's root directory.  This is used by Blockly so that media such as the trash can and the sounds may be loaded.

{{{
  <script type="text/javascript">
    Blockly.inject(document.getElementById('blocklyDiv'),
        {path: './', toolbox: document.getElementById('toolbox')});
  </script>
}}}

Test the page in a browser.  You should see Blockly's editor filling the div, with four block categories in the toolbox.  Here is [http://blockly-demo.appspot.com/static/demos/fixed/index.html a live demo].